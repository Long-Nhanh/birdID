<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bird Species Prediction</title>
</head>
<body>
    <h1>Bird Species Prediction</h1>
    <form action="{{ url_for('predict') }}" method="post" enctype="multipart/form-data">
        <input type="file" name="file">
        <button type="submit">Predict</button>
    </form>

    <h3>Uploaded Image</h3>
    <img src="{{ url_for('uploaded_file', filename=filename) }}" alt="Uploaded Image" width="300">
    <p>{{filename}}</p>
    
    {% if results %}
    <h2>Prediction Results</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Species</th>
                {% for model_name in results.keys() %}
                    <th>{{ model_name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for species in results.values()|first %}
            <tr>
                <td>{{ species }}</td>
                {% for model_name in results.keys() %}
                    <td>{{ results[model_name][species] | round(4)}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    {% endif %}
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bird Classification</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Bird Species Classification</h1>
        <form method="POST" action="/predict" enctype="multipart/form-data">
            <div class="form-group">
                <label for="file">Upload an image:</label>
                <input type="file" name="file" class="form-control" id="file" required>
            </div>
            <div class="form-group">
                <label for="model">Select Model:</label>
                <select name="model" class="form-control" id="model" required>
                    <option value="resnet50">ResNet50</option>
                    <option value="mobilenetv3">MobileNetV3</option>
                    <option value="inceptionv3">InceptionV3</option>
                    <option value="efficientnetb0">EfficientNetB0</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Predict</button>
        </form>

        {% if result %}
        <div class="mt-5">
            <h2>Prediction Results:</h2>
            <p><strong>Selected Model:</strong> {{ model_name }}</p>
            <img src="{{ url_for('uploaded_file', filename=filename) }}" alt="Uploaded Image" style="max-width: 400px;">
            <ul class="list-group mt-3">
                {% for species, score in result.items() %}
                <li class="list-group-item">
                    <strong>{{ species }}:</strong> {{ score | round(4) }}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</body>
</html>
